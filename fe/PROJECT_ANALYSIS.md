# 프로젝트 분석 보고서: fe

## 1. 프로젝트 개요

이 프로젝트는 사용자가 자신만의 이미지를 업로드하여 3D로 렌더링된 캔버스 제품(CanvasProduct)에 적용하고, 디자인을 수정한 뒤 주문할 수 있는 웹 애플리케이션입니다.

핵심 기능은 '스튜디오'로, 사용자는 이곳에서 이미지의 크기, 위치, 캔버스 옆면 처리 방식 등을 실시간으로 확인하며 커스터마이징할 수 있습니다. 완성된 디자인은 주문 및 결제 시스템을 통해 실제 제품으로 구매할 수 있으며, 관리자는 별도의 대시보드에서 주문과 사용자를 관리합니다.

## 2. 기술 스택

이 프로젝트는 최신 웹 기술을 기반으로 구축되었습니다.

- **프레임워크**: React 19
- **빌드 도구**: Vite
- **언어**: TypeScript
- **라우팅**: TanStack Router (파일 기반)
- **상태 관리/데이터 페칭**: TanStack Query
- **스타일링**: Tailwind CSS, shadcn/ui
- **3D 렌더링**: Three.js, @react-three/fiber, @react-three/drei
- **테스팅**: Vitest, React Testing Library
- **개발 환경**: `CLAUDE.md`에 명시된 엄격한 코딩 컨벤션 및 ESLint 규칙 적용

## 3. 프로젝트 구조

프로젝트는 기능별로 명확하게 모듈화되어 있으며, `src` 디렉토리 하위에 주요 로직이 위치합니다.

- `src/`
  - `main.tsx`: 애플리케이션 진입점. 라우터 설정 포함.
  - `routes/`: TanStack Router를 사용한 파일 기반 라우팅. 각 파일이 페이지에 해당.
    - `__root.tsx`: 모든 페이지에 적용되는 최상위 레이아웃.
    - `index.tsx`: 메인 랜딩 페이지.
    - `studio/`: 디자인 스튜디오 페이지.
    - `order/`, `payment/`: 주문 및 결제 관련 페이지.
    - `my.tsx`: 사용자 마이페이지.
    - `admin/`: 관리자 대시보드.
  - `components/`: 재사용 가능한 UI 컴포넌트 및 페이지별 컴포넌트.
    - `ui/`: shadcn/ui를 통해 설치된 원자적 UI 컴포G넌트.
    - `pages/studio/`: 스튜디오 페이지를 구성하는 주요 컴포넌트 집합.
      - `canvas-views/`: 3D 캔버스 뷰 관련 컴포넌트.
      - `tools/`: 이미지 업로드, 크기/위치 조절, 카메라 제어 등 편집 도구.
  - `lib/`: `cn()` 같은 핵심 유틸리티 함수.
  - `utils/`: 기타 유틸리티 함수 (이미지 압축 등).
  - `types/`: 프로젝트 전역에서 사용되는 TypeScript 타입 정의.

## 4. 핵심 기능

### 4.1. 스튜디오 (Studio)

스튜디오는 이 애플리케이션의 가장 핵심적인 기능입니다. 사용자는 이곳에서 다음과 같은 작업을 수행할 수 있습니다.

- **이미지 업로드**: 사용자의 기기에서 이미지를 불러옵니다.
- **실시간 3D 프리뷰**: 업로드된 이미지가 적용된 캔버스 제품을 3D로 확인합니다.
- **이미지 편집**:
  - **크기 및 위치 조절**: 캔버스 위에서 이미지의 크기와 위치를 조정합니다.
  - **พอดีภาพ (Image Fit)**: '화면에 맞춤'과 같은 프리셋을 제공합니다.
  - **옆면 처리 (Side Processing)**: 캔버스 프레임의 옆면에 이미지가 어떻게 처리될지 설정합니다.
- **카메라 제어**:
  - **자유 회전**: 마우스를 통해 3D 모델을 자유롭게 회전시킬 수 있습니다.
  - **시점 버튼**: 정면, 측면 등 미리 정의된 각도에서 모델을 볼 수 있습니다.
- **배경 선택**: 3D 뷰의 배경을 변경하여 다양한 환경에서 제품을 미리 볼 수 있습니다.

### 4.2. 주문 및 결제

사용자는 스튜디오에서 완성한 디자인을 바탕으로 제품을 주문할 수 있습니다.

- 주문 페이지에서 디자인 최종 확인.
- 결제 페이지를 통해 결제 진행.
- 주문 완료 후 확인 페이지 및 '마이페이지'에서 주문 내역 조회 가능.

### 4.3. 관리자 대시보드

`/admin` 경로를 통해 접근 가능한 관리자 전용 기능입니다.

- 주문 내역 관리 (전체 주문 조회, 개별 주문 상세 확인).
- 사용자 관리.
- 기타 서비스 설정.

## 5. 코딩 컨벤션 및 규칙

프로젝트는 `CLAUDE.md` 파일에 정의된 엄격한 가이드라인을 따릅니다.

- **용어 구분**: `CanvasProduct`(실물 제품)와 `CanvasElement`(HTML `<canvas>`)를 명확히 구분하여 사용합니다.
- **컴포넌트 작성**: `function` 선언을 사용하고, props 타입은 인라인으로 정의합니다.
- **`useEffect` 스타일**: 익명 함수 대신, 효과의 목적을 설명하는 이름 있는 함수를 사용합니다.
- **컴포넌트 내부 상태관리**: 여러 하위 컴포넌트가 상태를 공유할 때, prop drilling을 피하기 위해 `Component Internal Context Pattern`을 사용합니다.
- **`shadcn/ui` 사용**: 컴포넌트는 수동으로 작성하는 것이 아니라 `npx shadcn-ui@latest add` 명령어를 통해 추가해야 합니다.
- **제어문**: `if`문은 한 줄이라도 반드시 중괄호(`{}`)를 사용합니다.
